import { Steps, Callout } from "nextra/components";
import Image from "next/image";

# Cardano Connect

Cardano Connect allows you to seamlessly connect your identity with Cardano dApps for message signing.
It uses the [CIP-45](https://github.com/cardano-foundation/CIPs/tree/master/CIP-0045) standard that leverages WebTorrent trackers and WebRTC to enable a decentralized connection between your device and web browser.

Our [deployments](../infra) come with a CIP-45 sample dApp but you can also use our development environment to [try it out](https://cip45.dev.idw-sandboxes.cf-deployments.org/)!

## Connect

Let's connect!
Note that, we currently only support signing from Individual identifiers, with support for Group identifiers coming later.
Please refer to [this page](./individualid#creation) to create an Individual identifier.

<Steps>
### Navigate to Cardano Connect

In the Veridian Wallet, open the menu (bottom right tab) and select the `Cardano connect` tile.

### Connect

Clicking the `Connect with Cardano` button will activate your camera.
You can either scan the QR code displayed in the dApp, or paste the Peer ID directly.

<Callout type="info">
	The Peer ID is also called the Meerkat address, as CIP-45 leverages the open-source [Meerkat](https://github.com/fabianbormann/meerkat) library.
</Callout>

You can now continue and select an identifier you'd like to use for the connection.
If you don't already have an Individual identifier, you will be prompted to create one.

Once you try to connect, you will need to accept the connection request in your web browser.
The connection will appear as pending within the wallet until this process is complete.

<Callout type="warning">
	On some networks, you may experience delays or difficulties in the connection completing.
	This is due to the particular network you are on and its ability to perform network "hole punching".
</Callout>
</Steps>

## Signing
Once connected, a CIP-30 interface is injected into the context of the dApp.
We have extended CIP-30 by using the experimental API to support signing using KERI identifiers.

Whenever the dApp requires a signature from your wallet, a sign screen will appear in the wallet.
You can review all of the information before committing to signing anything, and you will be prompted to enter your passcode or operations password for final confirmation.

<Callout type="info">
	The prompt to sign overlays the entire application instead of appearing as a notification.
	This is because the prompt to sign is triggered by the same wallet user, such as when finalizing your vote in Cardano Ballot.
</Callout>

<video src="/videos/CIP45.mov" type="video/mp4" controls />

## Connection management

You are free to disconnect or reconnect to dApps as you require.
If you restart the app you will need to reconnect to the dApp.
You may also need to disconnect if you experience network issues.

If you are finished with the dApp for good, you can also delete the connection.
You can always create a new connection with the dApp later if you need to!

<Callout type="warning">
	For now, it's best to reload the dApp web page if you are reconnecting.
	The interface for signaling disconnects and reconnects is currently being improved.
</Callout>
